<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2286.510117466025" height="3481.534444870001"><desc>actor%20User%0Aparticipant%20Frontend%0Aparticipant%20ALB%0Aparticipant%20Backend%0Aparticipant%20S3%0Aparticipant%20SQS%0Aparticipant%20Worker%0Aparticipant%20SNS%0A%0Aentryspacing%201.1%0Aactivate%20User%0Aactivate%20Frontend%0A%23activate%20Worker%0AUser-%3EFrontend%3Auploads%20photo%0AUser-%3EFrontend%3Ainserts%20watermark%20text%0AUser-%3EFrontend%3Aclicks%20on%20upload%20button%0AFrontend-%3EALB%3APOST%20%2Fapi%2Fupload-image%20(HTTPS)%0Aactivate%20ALB%0AALB-%3EBackend%3APOST%20%2Fapi%2Fupload-image%20(HTTP)%0Aactivate%20Backend%0ABackend-%3EBackend%3Agenerate_presigned_post()%0AALB%3C--Backend%3Asuccess%20(presigned%20url%20for%20upload)%0Adeactivate%20Backend%0AFrontend%3C--ALB%3Asuccess%20(presigned%20url%20for%20upload)%0Adeactivate%20ALB%0A%0AFrontend-%3ES3%3APOST%20presigned%20url%0Aactivate%20S3%0AS3--%3EFrontend%3Asuccess%0Aparallel%20%0AFrontend-%3EALB%3AGET%20%2Fapi%2Fevents%2F%7Bimage_id%7D%20(HTTPS)%0Aactivate%20ALB%0AS3-%3ESQS%3AObjectCreated%20event%20(%2Fuploads)%0Aparallel%20off%0Aactivate%20SQS%0Adeactivate%20S3%0A%0AALB-%3EBackend%3AGET%20%2Fapi%2Fevents%2F%7Bimage-id%7D%20(HTTP)%0Aactivate%20Backend%0ABackend--%3EALB%3A%20success%20(SSE%20stream)%0AALB--%3EFrontend%3A%20success%20(SSE%20stream)%0A%0Aactivate%20Worker%0Aloop%20while%20True%0AWorker-%3ESQS%3Areceive_message()%0ASQS--%3EWorker%3Asuccess%20(messages)%0A%0Aopt%20If%20there%20are%20messages%20to%20process%0Aloop%20i%3C5%0A%0AWorker-%3ES3%3Aget_object()%0Aactivate%20S3%0AWorker%3C--S3%3Asuccess%20(image)%0Adeactivate%20S3%0A%0AWorker-%3EWorker%3Aprocess%20image%0A%0AWorker-%3ES3%3Aput_object()%0Aactivate%20S3%0AWorker%3C--S3%3Asuccess%0AS3-%3ESNS%3AObjectCreated%20event%20(%2Fprocessed)%0Adeactivate%20S3%0Aactivate%20SNS%0AWorker-%3ESQS%3Adelete_message()%0A%0Aend%0Aend%0A%0Aend%0A%0Adeactivate%20Worker%0Adeactivate%20SQS%0A%0ASNS-%3EBackend%3APOST%20%2Fapi%2Fsns-notification%0Adeactivate%20SNS%20%0A%0ABackend-%3EBackend%3A%20generate_presigned_url()%0ABackend--%3EALB%3A%20presigned%20url%20(SSE%20stream)%0Adeactivate%20Backend%0AALB--%3EFrontend%3A%20presigned%20url%20(SSE%20stream)%0Adeactivate%20ALB%0A%0AUser-%3EFrontend%3A%20clicks%20open%20image%20in%20another%20tab%0AFrontend-%3EFrontend%3A%20browser%20opens%20image%20in%20another%20tab%0A%0AUser-%3EFrontend%3A%20clicks%20download%20your%20image%20button%0A%0AFrontend-%3EALB%3AGET%20%2Fapi%2Fdownload-image%2F%7Bimage_name%7D%20(HTTPS)%0Aactivate%20ALB%0AALB-%3EBackend%3AGET%20%2Fapi%2Fdownload-image%2F%7Bimage_name%7D%20(HTTP)%0Aactivate%20Backend%0ABackend-%3ES3%3Aget_object()%0Aactivate%20S3%0ABackend%3C--S3%3Asuccess%20(image_object)%0Adeactivate%20S3%0AALB%3C--Backend%3Asuccess%20(return%20image)%0Adeactivate%20Backend%0AFrontend%3C--ALB%3Asuccess%20(return%20image)%0Adeactivate%20ALB%0AFrontend-%3EFrontend%3Abrowser%20triggers%20download%20image%0Adeactivate%20Frontend%0Adeactivate%20User%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="2286" height="3481"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 30.65992004 135.33087657000002 L 30.65992004 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 345.9272158238541 135.33087657000002 L 345.9272158238541 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 766.7145139728206 135.33087657000002 L 766.7145139728206 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1177.7684785341405 135.33087657000002 L 1177.7684785341405 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1424.2932181916926 135.33087657000002 L 1424.2932181916926 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1719.3071837448338 135.33087657000002 L 1719.3071837448338 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1944.4678129637464 135.33087657000002 L 1944.4678129637464 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2110.592543466025 135.33087657000002 L 2110.592543466025 3481.534444870001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="19.331601538461538,8.377027333333332"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 44.984636779999995 29.026399710000007 A 14.324716739999998 14.324716739999998 0 1 1 44.98462961764223 29.012074995647453" stroke-miterlimit="10" stroke-width="4.27228394" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 30.65992004 43.351116450000006 L 30.65992004 74.01103649000001 M 12.565541 54.40879253 L 48.754299079999996 54.40879253 M 30.65992004 74.01103649000001 L 12.565541 102.66046997000001 M 30.65992004 74.01103649000001 L 48.754299079999996 102.66046997000001" stroke-miterlimit="10" stroke-width="4.27228394"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="15.24658710085205" y="127.79155197000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 289.43999254049965 67.47695517000002 L 402.41443910720864 67.47695517000002 L 402.41443910720864 135.33087657000002 L 289.43999254049965 135.33087657000002 L 289.43999254049965 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="316.7072165104996" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Frontend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 725.6539569492317 67.47695517000002 L 807.7750709964093 67.47695517000002 L 807.7750709964093 135.33087657000002 L 725.6539569492317 135.33087657000002 L 725.6539569492317 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="752.9211809192317" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ALB</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1122.1012549456102 67.47695517000002 L 1233.4357021226708 67.47695517000002 L 1233.4357021226708 135.33087657000002 L 1122.1012549456102 135.33087657000002 L 1122.1012549456102 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1149.3684789156102" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Backend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1388.099327961927 67.47695517000002 L 1460.4871084214583 67.47695517000002 L 1460.4871084214583 135.33087657000002 L 1388.099327961927 135.33087657000002 L 1388.099327961927 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1415.366551931927" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">S3</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1676.6266268356858 67.47695517000002 L 1761.9877406539817 67.47695517000002 L 1761.9877406539817 135.33087657000002 L 1676.6266268356858 135.33087657000002 L 1676.6266268356858 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1703.8938508056858" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SQS</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1893.8072555586878 67.47695517000002 L 1995.128370368805 67.47695517000002 L 1995.128370368805 135.33087657000002 L 1893.8072555586878 135.33087657000002 L 1893.8072555586878 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1921.0744795286878" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Worker</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2068.318652358879 67.47695517000002 L 2152.866434573171 67.47695517000002 L 2152.866434573171 135.33087657000002 L 2068.318652358879 135.33087657000002 L 2068.318652358879 67.47695517000002 Z" stroke-miterlimit="10" stroke-width="4.02097312" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2095.585876328879" y="110.19979457000001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SNS</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 18.09437904 147.89641757 L 43.22546104 147.89641757 L 43.22546104 3393.575657870001 L 18.09437904 3393.575657870001 Z" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 333.3616748238541 147.89641757 L 358.4927568238541 147.89641757 L 358.4927568238541 3393.575657870001 L 333.3616748238541 3393.575657870001 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 444.44318517000005 L 779.2800549728206 444.44318517000005 L 779.2800549728206 773.6603593699999 L 754.1489729728205 773.6603593699999 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 518.5798770700001 L 1190.3340195341405 518.5798770700001 L 1190.3340195341405 699.52366747 L 1165.2029375341406 699.52366747 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1411.7276771916927 847.7970512699999 L 1436.8587591916926 847.7970512699999 L 1436.8587591916926 996.0704350699998 L 1411.7276771916927 996.0704350699998 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 996.0704350699998 L 779.2800549728206 996.0704350699998 L 779.2800549728206 2586.8679256699997 L 754.1489729728205 2586.8679256699997 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1706.7416427448338 996.0704350699998 L 1731.8727247448337 996.0704350699998 L 1731.8727247448337 2257.6507514699992 L 1706.7416427448338 2257.6507514699992 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 1070.2071269699998 L 1190.3340195341405 1070.2071269699998 L 1190.3340195341405 2512.7312337699996 L 1165.2029375341406 2512.7312337699996 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1931.9022719637464 1218.4805107699997 L 1957.0333539637463 1218.4805107699997 L 1957.0333539637463 2257.6507514699992 L 1931.9022719637464 2257.6507514699992 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1411.7276771916927 1655.7613375699993 L 1436.8587591916926 1655.7613375699993 L 1436.8587591916926 1729.8980294699993 L 1411.7276771916927 1729.8980294699993 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1411.7276771916927 1910.8418198699992 L 1436.8587591916926 1910.8418198699992 L 1436.8587591916926 2059.115203669999 L 1411.7276771916927 2059.115203669999 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2098.027002466025 2059.115203669999 L 2123.158084466025 2059.115203669999 L 2123.158084466025 2331.7874433699994 L 2098.027002466025 2331.7874433699994 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 2916.0850998700002 L 779.2800549728206 2916.0850998700002 L 779.2800549728206 3286.768559370001 L 754.1489729728205 3286.768559370001 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 2990.2217917700004 L 1190.3340195341405 2990.2217917700004 L 1190.3340195341405 3212.631867470001 L 1165.2029375341406 3212.631867470001 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1411.7276771916927 3064.3584836700006 L 1436.8587591916926 3064.3584836700006 L 1436.8587591916926 3138.495175570001 L 1411.7276771916927 3138.495175570001 Z" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g><rect fill="white" stroke="none" x="138.66390502157552" y="189.36270287" width="99.25932582070313" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="142.4335673215755" y="211.98067666999998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">uploads photo</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.22546104 222.03310947 L 312.6704173105208 222.03310947" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(333.3616748238541,222.03310947) translate(-333.3616748238541,-222.03310947)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 312.4191064905208 211.56182530333334 L 333.3616748238541 222.03310947 L 312.4191064905208 232.50439363666666 Z"/></g></g><g><rect fill="white" stroke="none" x="113.14390647116048" y="263.49939477000004" width="150.29931910683592" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="116.91356877116047" y="286.11736857000005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">inserts watermark text</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.22546104 296.16980137 L 312.6704173105208 296.16980137" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(333.3616748238541,296.16980137) translate(-333.3616748238541,-296.16980137)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 312.4191064905208 285.6985172033333 L 333.3616748238541 296.16980137 L 312.4191064905208 306.6410855366667 Z"/></g></g><g><rect fill="white" stroke="none" x="110.28390681448323" y="337.63608667000005" width="156.01932032753905" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="114.05356911448322" y="360.25406047000007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">clicks on upload button</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.22546104 370.30649327000003 L 312.6704173105208 370.30649327000003" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(333.3616748238541,370.30649327000003) translate(-333.3616748238541,-370.30649327000003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 312.4191064905208 359.83520910333334 L 333.3616748238541 370.30649327000003 L 312.4191064905208 380.7777774366667 Z"/></g></g><g><rect fill="white" stroke="none" x="441.80453664374744" y="411.77277857000007" width="229.03265650917967" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="445.57419894374743" y="434.3907523700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/upload-image (HTTPS)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 358.4927568238541 444.44318517000005 L 733.4577154594872 444.44318517000005" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(754.1489729728205,444.44318517000005) translate(-754.1489729728205,-444.44318517000005)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 733.2064046394871 433.97190100333336 L 754.1489729728205 444.44318517000005 L 733.2064046394871 454.91446933666674 Z"/></g></g><g><rect fill="white" stroke="none" x="862.5918347927139" y="485.9094704700001" width="219.29931910683592" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="866.361497092714" y="508.5274442700001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/upload-image (HTTP)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 779.2800549728206 518.5798770700001 L 1144.5116800208073 518.5798770700001" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1165.2029375341406,518.5798770700001) translate(-1165.2029375341406,-518.5798770700001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1144.2603692008072 508.1085929033334 L 1165.2029375341406 518.5798770700001 L 1144.2603692008072 529.0511612366668 Z"/></g></g><g><rect fill="white" stroke="none" x="1220.0724665674738" y="560.04616237" width="182.85933192421874" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1223.8421288674738" y="582.66413617" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">generate_presigned_post()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1190.3340195341405 592.71656897 L 1290.8583475341404 592.71656897 L 1290.8583475341404 625.38697557 L 1211.0252770474738 625.38697557" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1190.3340195341405,625.38697557) translate(-1190.3340195341405,-625.38697557)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1211.2765878674738 614.9156914033333 L 1190.3340195341405 625.38697557 L 1211.2765878674738 635.8582597366667 Z"/></g></g><g><rect fill="white" stroke="none" x="858.5318343730972" y="666.85326087" width="227.4193294828125" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="862.3014966730973" y="689.47123467" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (presigned url for upload)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 699.52366747 L 799.9713124861539 699.52366747" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(779.2800549728206,699.52366747) translate(-779.2800549728206,-699.52366747)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 800.222623306154 689.0523833033333 L 779.2800549728206 699.52366747 L 800.222623306154 709.9949516366667 Z"/></g></g><g><rect fill="white" stroke="none" x="442.611203017954" y="740.98995277" width="227.4193294828125" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="446.380865317954" y="763.6079265699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (presigned url for upload)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 773.6603593699999 L 379.1840143371874 773.6603593699999" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(358.4927568238541,773.6603593699999) translate(-358.4927568238541,-773.6603593699999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 763.1890752033332 L 358.4927568238541 773.6603593699999 L 379.43532515718744 784.1316435366666 Z"/></g></g><g><rect fill="white" stroke="none" x="817.2405552799779" y="815.1266446699999" width="135.73932154824217" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="821.010217579978" y="837.7446184699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST presigned url</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 358.4927568238541 847.7970512699999 L 1391.0364196783594 847.7970512699999" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1411.7276771916927,847.7970512699999) translate(-1411.7276771916927,-847.7970512699999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1390.7851088583593 837.3257671033332 L 1411.7276771916927 847.7970512699999 L 1390.7851088583593 858.2683354366666 Z"/></g></g><g><rect fill="white" stroke="none" x="854.9872221882421" y="889.2633365699999" width="60.2459896390625" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="858.7568844882421" y="911.8813103699998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1411.7276771916927 921.9337431699998 L 379.1840143371874 921.9337431699998" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(358.4927568238541,921.9337431699998) translate(-358.4927568238541,-921.9337431699998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 911.4624590033332 L 358.4927568238541 921.9337431699998 L 379.43532515718744 932.4050273366665 Z"/></g></g><g><rect fill="white" stroke="none" x="432.87787133765613" y="963.4000284699998" width="246.88598902871092" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="436.6475336376561" y="986.0180022699998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /api/events/{image_id} (HTTPS)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 358.4927568238541 996.0704350699998 L 733.4577154594872 996.0704350699998" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(754.1489729728205,996.0704350699998) translate(-754.1489729728205,-996.0704350699998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 733.2064046394871 985.5991509033331 L 754.1489729728205 996.0704350699998 L 733.2064046394871 1006.5417192366665 Z"/></g></g><g><rect fill="white" stroke="none" x="1466.597206225026" y="963.4000284699998" width="210.40599330117186" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1470.366868525026" y="986.0180022699998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ObjectCreated event (/uploads)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1436.8587591916926 996.0704350699998 L 1686.0503852315005 996.0704350699998" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1706.7416427448338,996.0704350699998) translate(-1706.7416427448338,-996.0704350699998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1685.7990744115004 985.5991509033331 L 1706.7416427448338 996.0704350699998 L 1685.7990744115004 1006.5417192366665 Z"/></g></g><g><rect fill="white" stroke="none" x="855.2918326946304" y="1037.5367203699998" width="233.89932521035155" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="859.0614949946305" y="1060.1546941699999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /api/events/{image-id} (HTTP)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 779.2800549728206 1070.2071269699998 L 1144.5116800208073 1070.2071269699998" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1165.2029375341406,1070.2071269699998) translate(-1165.2029375341406,-1070.2071269699998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1144.2603692008072 1059.735842803333 L 1165.2029375341406 1070.2071269699998 L 1144.2603692008072 1080.6784111366665 Z"/></g></g><g><rect fill="white" stroke="none" x="896.2918355556534" y="1111.6734122699997" width="151.89932521035155" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="900.0614978556534" y="1134.2913860699998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (SSE stream)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 1144.3438188699997 L 799.9713124861539 1144.3438188699997" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(779.2800549728206,1144.3438188699997) translate(-779.2800549728206,-1144.3438188699997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 800.222623306154 1133.872534703333 L 779.2800549728206 1144.3438188699997 L 800.222623306154 1154.8151030366664 Z"/></g></g><g><rect fill="white" stroke="none" x="480.37120420051014" y="1185.8101041699997" width="151.89932521035155" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="484.1408665005101" y="1208.4280779699998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (SSE stream)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 1218.4805107699997 L 379.1840143371874 1218.4805107699997" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(358.4927568238541,1218.4805107699997) translate(-358.4927568238541,-1218.4805107699997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 1208.009226603333 L 358.4927568238541 1218.4805107699997 L 379.43532515718744 1228.9517949366664 Z"/></g></g><g><rect fill="white" stroke="none" x="1766.051170404876" y="1331.5703797699996" width="131.6726558988281" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1769.820832704876" y="1354.1883535699997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">receive_message()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1931.9022719637464 1364.2407863699996 L 1752.563982258167 1364.2407863699996" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1731.8727247448337,1364.2407863699996) translate(-1731.8727247448337,-1364.2407863699996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1752.815293078167 1353.7695022033329 L 1731.8727247448337 1364.2407863699996 L 1752.815293078167 1374.7120705366663 Z"/></g></g><g><rect fill="white" stroke="none" x="1761.611171778167" y="1405.7070716699996" width="140.5526607816406" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1765.380834078167" y="1428.3250454699996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (messages)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1731.8727247448337 1438.3774782699995 L 1911.2110144504131 1438.3774782699995" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(1931.9022719637464,1438.3774782699995) translate(-1931.9022719637464,-1438.3774782699995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1910.959703630413 1427.9061941033328 L 1931.9022719637464 1438.3774782699995 L 1910.959703630413 1448.8487624366662 Z"/></g></g><g><rect fill="white" stroke="none" x="1642.0641880860692" y="1623.0909309699994" width="84.63265498330078" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1645.8338503860691" y="1645.7089047699994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">get_object()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1931.9022719637464 1655.7613375699993 L 1457.5500167050259 1655.7613375699993" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1436.8587591916926,1655.7613375699993) translate(-1436.8587591916926,-1655.7613375699993)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1457.801327525026 1645.2900534033326 L 1436.8587591916926 1655.7613375699993 L 1457.801327525026 1666.232621736666 Z"/></g></g><g><rect fill="white" stroke="none" x="1627.4841881623631" y="1697.2276228699993" width="113.79265864541016" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1631.253850462363" y="1719.8455966699994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (image)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1436.8587591916926 1729.8980294699993 L 1911.2110144504131 1729.8980294699993" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(1931.9022719637464,1729.8980294699993) translate(-1931.9022719637464,-1729.8980294699993)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1910.959703630413 1719.4267453033326 L 1931.9022719637464 1729.8980294699993 L 1910.959703630413 1740.369313636666 Z"/></g></g><g><rect fill="white" stroke="none" x="1986.7718009970797" y="1771.3643147699993" width="102.45932276894531" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1990.5414632970796" y="1793.9822885699994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">process image</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1957.0333539637463 1804.0347213699993 L 2057.5576819637463 1804.0347213699993 L 2057.5576819637463 1836.7051279699992 L 1977.7246114770796 1836.7051279699992" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1957.0333539637463,1836.7051279699992) translate(-1957.0333539637463,-1836.7051279699992)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1977.9759222970797 1826.2338438033325 L 1957.0333539637463 1836.7051279699992 L 1977.9759222970797 1847.176412136666 Z"/></g></g><g><rect fill="white" stroke="none" x="1642.0641880860692" y="1878.1714132699992" width="84.63265498330078" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1645.8338503860691" y="1900.7893870699993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">put_object()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1931.9022719637464 1910.8418198699992 L 1457.5500167050259 1910.8418198699992" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1436.8587591916926,1910.8418198699992) translate(-1436.8587591916926,-1910.8418198699992)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1457.801327525026 1900.3705357033325 L 1436.8587591916926 1910.8418198699992 L 1457.801327525026 1921.313104036666 Z"/></g></g><g><rect fill="white" stroke="none" x="1654.2575207581883" y="1952.3081051699992" width="60.2459896390625" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1658.0271830581883" y="1974.9260789699993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1436.8587591916926 1984.9785117699992 L 1911.2110144504131 1984.9785117699992" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(1931.9022719637464,1984.9785117699992) translate(-1931.9022719637464,-1984.9785117699992)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1910.959703630413 1974.5072276033325 L 1931.9022719637464 1984.9785117699992 L 1910.959703630413 1995.4497959366659 Z"/></g></g><g><rect fill="white" stroke="none" x="1654.13321952068" y="2026.444797069999" width="226.61932643105467" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1657.90288182068" y="2049.062770869999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ObjectCreated event (/processed)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1436.8587591916926 2059.115203669999 L 2077.3357449526916 2059.115203669999" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(2098.027002466025,2059.115203669999) translate(-2098.027002466025,-2059.115203669999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 2077.0844341326915 2048.6439195033327 L 2098.027002466025 2059.115203669999 L 2077.0844341326915 2069.5864878366656 Z"/></g></g><g><rect fill="white" stroke="none" x="1769.6911697945245" y="2100.581488969999" width="124.39265711953125" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1773.4608320945244" y="2123.199462769999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">delete_message()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1931.9022719637464 2133.2518955699993 L 1752.563982258167 2133.2518955699993" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1731.8727247448337,2133.2518955699993) translate(-1731.8727247448337,-2133.2518955699993)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1752.815293078167 2122.780611403333 L 1731.8727247448337 2133.2518955699993 L 1752.815293078167 2143.7231797366658 Z"/></g></g><g><rect fill="white" stroke="none" x="1556.0441838136082" y="2299.1170367699992" width="176.27266200234374" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1559.8138461136082" y="2321.7350105699993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/sns-notification</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2098.027002466025 2331.7874433699994 L 1211.0252770474738 2331.7874433699994" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1190.3340195341405,2331.7874433699994) translate(-1190.3340195341405,-2331.7874433699994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1211.2765878674738 2321.316159203333 L 1190.3340195341405 2331.7874433699994 L 1211.2765878674738 2342.258727536666 Z"/></g></g><g><rect fill="white" stroke="none" x="1220.0724665674738" y="2373.2537286699994" width="171.49933131386717" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1223.8421288674738" y="2395.8717024699995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">generate_presigned_url()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1190.3340195341405 2405.924135269999 L 1290.8583475341404 2405.924135269999 L 1290.8583475341404 2438.5945418699994 L 1211.0252770474738 2438.5945418699994" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1190.3340195341405,2438.5945418699994) translate(-1190.3340195341405,-2438.5945418699994)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1211.2765878674738 2428.123257703333 L 1190.3340195341405 2438.5945418699994 L 1211.2765878674738 2449.065826036666 Z"/></g></g><g><rect fill="white" stroke="none" x="880.4451663585709" y="2480.0608271699994" width="183.59265406777342" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="884.2148286585709" y="2502.6788009699994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">presigned url (SSE stream)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 2512.7312337699996 L 799.9713124861539 2512.7312337699996" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(779.2800549728206,2512.7312337699996) translate(-779.2800549728206,-2512.7312337699996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 800.222623306154 2502.259949603333 L 779.2800549728206 2512.7312337699996 L 800.222623306154 2523.202517936666 Z"/></g></g><g><rect fill="white" stroke="none" x="464.5245350034276" y="2554.1975190699995" width="183.59265406777342" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="468.2941973034276" y="2576.8154928699996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">presigned url (SSE stream)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 2586.8679256699997 L 379.1840143371874 2586.8679256699997" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(358.4927568238541,2586.8679256699997) translate(-358.4927568238541,-2586.8679256699997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 2576.3966415033333 L 358.4927568238541 2586.8679256699997 L 379.43532515718744 2597.339209836666 Z"/></g></g><g><rect fill="white" stroke="none" x="79.85724103155476" y="2628.3342109699997" width="216.8726528470703" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.62690333155476" y="2650.95218477" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">clicks open image in another tab</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.22546104 2661.00461757 L 312.6704173105208 2661.00461757" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(333.3616748238541,2661.00461757) translate(-333.3616748238541,-2661.00461757)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 312.4191064905208 2650.5333334033335 L 333.3616748238541 2661.00461757 L 312.4191064905208 2671.4759017366664 Z"/></g></g><g><rect fill="white" stroke="none" x="388.23120385718744" y="2702.47090287" width="240.44598658730467" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="392.00086615718743" y="2725.08887667" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">browser opens image in another tab</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 358.4927568238541 2735.1413094699997 L 459.01708482385413 2735.1413094699997 L 459.01708482385413 2767.81171607 L 379.1840143371874 2767.81171607" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(358.4927568238541,2767.81171607) translate(-358.4927568238541,-2767.81171607)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 2757.3404319033334 L 358.4927568238541 2767.81171607 L 379.43532515718744 2778.2830002366663 Z"/></g></g><g><rect fill="white" stroke="none" x="72.96390807333333" y="2809.27800137" width="230.6593197171875" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="76.73357037333332" y="2831.89597517" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">clicks download your image button</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.22546104 2841.94840797 L 312.6704173105208 2841.94840797" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(333.3616748238541,2841.94840797) translate(-333.3616748238541,-2841.94840797)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 312.4191064905208 2831.4771238033336 L 333.3616748238541 2841.94840797 L 312.4191064905208 2852.4196921366665 Z"/></g></g><g><rect fill="white" stroke="none" x="388.2312038571874" y="2883.41469327" width="336.1793392484375" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="392.0008661571874" y="2906.03266707" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /api/download-image/{image_name} (HTTPS)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 358.4927568238541 2916.0850998700002 L 733.4577154594872 2916.0850998700002" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(754.1489729728205,2916.0850998700002) translate(-754.1489729728205,-2916.0850998700002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 733.2064046394871 2905.613815703334 L 754.1489729728205 2916.0850998700002 L 733.2064046394871 2926.5563840366667 Z"/></g></g><g><rect fill="white" stroke="none" x="809.0185020061539" y="2957.5513851700002" width="326.44600184609374" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="812.7881643061539" y="2980.1693589700003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /api/download-image/{image_name} (HTTP)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 779.2800549728206 2990.2217917700004 L 1144.5116800208073 2990.2217917700004" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1165.2029375341406,2990.2217917700004) translate(-1165.2029375341406,-2990.2217917700004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1144.2603692008072 2979.750507603334 L 1165.2029375341406 2990.2217917700004 L 1144.2603692008072 3000.693075936667 Z"/></g></g><g><rect fill="white" stroke="none" x="1258.7145208712661" y="3031.6880770700004" width="84.63265498330078" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1262.484183171266" y="3054.3060508700005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">get_object()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1190.3340195341405 3064.3584836700006 L 1391.0364196783594 3064.3584836700006" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(1411.7276771916927,3064.3584836700006) translate(-1411.7276771916927,-3064.3584836700006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1390.7851088583593 3053.887199503334 L 1411.7276771916927 3064.3584836700006 L 1390.7851088583593 3074.829767836667 Z"/></g></g><g><rect fill="white" stroke="none" x="1220.6011862155044" y="3105.8247689700006" width="160.85933192421874" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1224.3708485155043" y="3128.4427427700007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (image_object)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1411.7276771916927 3138.495175570001 L 1211.0252770474738 3138.495175570001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(1190.3340195341405,3138.495175570001) translate(-1190.3340195341405,-3138.495175570001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1211.2765878674738 3128.0238914033343 L 1190.3340195341405 3138.495175570001 L 1211.2765878674738 3148.9664597366673 Z"/></g></g><g><rect fill="white" stroke="none" x="894.2451684566544" y="3179.961460870001" width="155.99266322304686" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="898.0148307566544" y="3202.579434670001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (return image)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1165.2029375341406 3212.631867470001 L 799.9713124861539 3212.631867470001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(779.2800549728206,3212.631867470001) translate(-779.2800549728206,-3212.631867470001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 800.222623306154 3202.1605833033345 L 779.2800549728206 3212.631867470001 L 800.222623306154 3223.1031516366675 Z"/></g></g><g><rect fill="white" stroke="none" x="478.3245371015111" y="3254.098152770001" width="155.99266322304686" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.0941994015111" y="3276.716126570001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">success (return image)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 754.1489729728205 3286.768559370001 L 379.1840143371874 3286.768559370001" stroke-miterlimit="10" stroke-width="2.094256833333333" stroke-dasharray="10.0524328"/><g transform="translate(358.4927568238541,3286.768559370001) translate(-358.4927568238541,-3286.768559370001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 3276.2972752033347 L 358.4927568238541 3286.768559370001 L 379.43532515718744 3297.2398435366676 Z"/></g></g><g><rect fill="white" stroke="none" x="388.23120385718744" y="3328.234844670001" width="222.5793178861328" height="32.6704066"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="392.00086615718743" y="3350.8528184700012" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">browser triggers download image</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 358.4927568238541 3360.905251270001 L 459.01708482385413 3360.905251270001 L 459.01708482385413 3393.575657870001 L 379.1840143371874 3393.575657870001" stroke-miterlimit="10" stroke-width="2.094256833333333"/><g transform="translate(358.4927568238541,3393.575657870001) translate(-358.4927568238541,-3393.575657870001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 379.43532515718744 3383.1043737033347 L 358.4927568238541 3393.575657870001 L 379.43532515718744 3404.0469420366676 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1273.5067261916927 1259.9467960699997 L 2248.8134944660246 1259.9467960699997 L 2248.8134944660246 2257.6507514699992 L 1273.5067261916927 2257.6507514699992 L 1273.5067261916927 1259.9467960699997 Z" stroke-miterlimit="10" stroke-width="3.590154571428571"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1273.5067261916927 1259.9467960699997 L 1273.5067261916927 1290.1040944699996 L 1348.4622228638118 1290.1040944699996 L 1363.5408720638118 1275.0254452699996 L 1363.5408720638118 1259.9467960699997 L 1273.5067261916927 1259.9467960699997" stroke-miterlimit="10" stroke-width="3.590154571428571"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1298.6378081916928" y="1280.0516616699997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="1384.902291763812" y="1261.9572826299998" width="72.56598933388672" height="26.13632528"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1388.6719540638119" y="1280.0516616699997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[while True]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1298.6378081916928 1479.8437635699995 L 2223.6824124660247 1479.8437635699995 L 2223.6824124660247 2216.1844661699993 L 1298.6378081916928 2216.1844661699993 L 1298.6378081916928 1479.8437635699995 Z" stroke-miterlimit="10" stroke-width="3.590154571428571"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1298.6378081916928 1479.8437635699995 L 1298.6378081916928 1510.0010619699995 L 1367.0866386803402 1510.0010619699995 L 1382.1652878803402 1494.9224127699995 L 1382.1652878803402 1479.8437635699995 L 1298.6378081916928 1479.8437635699995" stroke-miterlimit="10" stroke-width="3.590154571428571"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1323.768890191693" y="1499.9486291699995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">opt</text><g><rect fill="white" stroke="none" x="1403.5267075803404" y="1481.8542501299996" width="197.44598658730467" height="26.13632528"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1407.2963698803403" y="1499.9486291699995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[If there are messages to process]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1323.7688901916927 1551.4673472699994 L 2198.551330466025 1551.4673472699994 L 2198.551330466025 2174.7181808699993 L 1323.7688901916927 2174.7181808699993 L 1323.7688901916927 1551.4673472699994 Z" stroke-miterlimit="10" stroke-width="3.590154571428571"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1323.7688901916927 1551.4673472699994 L 1323.7688901916927 1581.6246456699994 L 1398.7243868638118 1581.6246456699994 L 1413.8030360638118 1566.5459964699994 L 1413.8030360638118 1551.4673472699994 L 1323.7688901916927 1551.4673472699994" stroke-miterlimit="10" stroke-width="3.590154571428571"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1348.8999721916928" y="1571.5722128699995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="1435.164455763812" y="1553.4778338299996" width="31.925991851586915" height="26.13632528"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1438.9341180638119" y="1571.5722128699995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[i&lt;5]</text></g></g><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>